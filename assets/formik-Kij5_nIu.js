import{d as ae}from"./deepmerge-DhIoniG1.js";import{c as K,i as ge,t as Ie,a as be}from"./lodash-es-dVqQl90_.js";import{r as l}from"./react-BvMUtuR1.js";import{i as w}from"./react-fast-compare-CnCej0V4.js";import"./hoist-non-react-statics-Buxaj0Kl.js";function m(){return m=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(r[n]=u[n])}return r},m.apply(this,arguments)}function H(r,t){if(r==null)return{};var u={},n=Object.keys(r),a,f;for(f=0;f<n.length;f++)a=n[f],!(t.indexOf(a)>=0)&&(u[a]=r[a]);return u}var z=l.createContext(void 0);z.displayName="FormikContext";var He=z.Provider;z.Consumer;function Re(){var r=l.useContext(z);return r}var F=function(t){return typeof t=="function"},Y=function(t){return t!==null&&typeof t=="object"},Pe=function(t){return String(Math.floor(Number(t)))===t},ne=function(t){return Object.prototype.toString.call(t)==="[object String]"},Ge=function(t){return l.Children.count(t)===0},ie=function(t){return Y(t)&&F(t.then)};function R(r,t,u,n){n===void 0&&(n=0);for(var a=Ie(t);r&&n<a.length;)r=r[a[n++]];return n!==a.length&&!r||r===void 0?u:r}function U(r,t,u){for(var n=be(r),a=n,f=0,v=Ie(t);f<v.length-1;f++){var y=v[f],T=R(r,v.slice(0,f+1));if(T&&(Y(T)||Array.isArray(T)))a=a[y]=be(T);else{var b=v[f+1];a=a[y]=Pe(b)&&Number(b)>=0?[]:{}}}return(f===0?r:a)[v[f]]===u?r:(u===void 0?delete a[v[f]]:a[v[f]]=u,f===0&&u===void 0&&delete n[v[f]],n)}function Fe(r,t,u,n){u===void 0&&(u=new WeakMap),n===void 0&&(n={});for(var a=0,f=Object.keys(r);a<f.length;a++){var v=f[a],y=r[v];Y(y)?u.get(y)||(u.set(y,!0),n[v]=Array.isArray(y)?[]:{},Fe(y,t,u,n[v])):n[v]=t}return n}function We(r,t){switch(t.type){case"SET_VALUES":return m({},r,{values:t.payload});case"SET_TOUCHED":return m({},r,{touched:t.payload});case"SET_ERRORS":return w(r.errors,t.payload)?r:m({},r,{errors:t.payload});case"SET_STATUS":return m({},r,{status:t.payload});case"SET_ISSUBMITTING":return m({},r,{isSubmitting:t.payload});case"SET_ISVALIDATING":return m({},r,{isValidating:t.payload});case"SET_FIELD_VALUE":return m({},r,{values:U(r.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return m({},r,{touched:U(r.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return m({},r,{errors:U(r.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return m({},r,t.payload);case"SET_FORMIK_STATE":return t.payload(r);case"SUBMIT_ATTEMPT":return m({},r,{touched:Fe(r.values,!0),isSubmitting:!0,submitCount:r.submitCount+1});case"SUBMIT_FAILURE":return m({},r,{isSubmitting:!1});case"SUBMIT_SUCCESS":return m({},r,{isSubmitting:!1});default:return r}}var O={},$={};function je(r){var t=r.validateOnChange,u=t===void 0?!0:t,n=r.validateOnBlur,a=n===void 0?!0:n,f=r.validateOnMount,v=f===void 0?!1:f,y=r.isInitialValid,T=r.enableReinitialize,b=T===void 0?!1:T,M=r.onSubmit,G=H(r,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),s=m({validateOnChange:u,validateOnBlur:a,validateOnMount:v,onSubmit:M},G),g=l.useRef(s.initialValues),_=l.useRef(s.initialErrors||O),V=l.useRef(s.initialTouched||$),D=l.useRef(s.initialStatus),I=l.useRef(!1),A=l.useRef({});l.useEffect(function(){return I.current=!0,function(){I.current=!1}},[]);var q=l.useState(0),J=q[1],W=l.useRef({values:K(s.initialValues),errors:K(s.initialErrors)||O,touched:K(s.initialTouched)||$,status:K(s.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),p=W.current,E=l.useCallback(function(e){var i=W.current;W.current=We(i,e),i!==W.current&&J(function(o){return o+1})},[]),oe=l.useCallback(function(e,i){return new Promise(function(o,c){var d=s.validate(e,i);d==null?o(O):ie(d)?d.then(function(h){o(h||O)},function(h){c(h)}):o(d)})},[s.validate]),Q=l.useCallback(function(e,i){var o=s.validationSchema,c=F(o)?o(i):o,d=i&&c.validateAt?c.validateAt(i,e):$e(e,c);return new Promise(function(h,S){d.then(function(){h(O)},function(k){k.name==="ValidationError"?h(Ke(k)):S(k)})})},[s.validationSchema]),le=l.useCallback(function(e,i){return new Promise(function(o){return o(A.current[e].validate(i))})},[]),ce=l.useCallback(function(e){var i=Object.keys(A.current).filter(function(c){return F(A.current[c].validate)}),o=i.length>0?i.map(function(c){return le(c,R(e,c))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(o).then(function(c){return c.reduce(function(d,h,S){return h==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||h&&(d=U(d,i[S],h)),d},{})})},[le]),Ae=l.useCallback(function(e){return Promise.all([ce(e),s.validationSchema?Q(e):{},s.validate?oe(e):{}]).then(function(i){var o=i[0],c=i[1],d=i[2],h=ae.all([o,c,d],{arrayMerge:ze});return h})},[s.validate,s.validationSchema,ce,oe,Q]),L=C(function(e){return e===void 0&&(e=p.values),E({type:"SET_ISVALIDATING",payload:!0}),Ae(e).then(function(i){return I.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:i})),i})});l.useEffect(function(){v&&I.current===!0&&w(g.current,s.initialValues)&&L(g.current)},[v,L]);var P=l.useCallback(function(e){var i=e&&e.values?e.values:g.current,o=e&&e.errors?e.errors:_.current?_.current:s.initialErrors||{},c=e&&e.touched?e.touched:V.current?V.current:s.initialTouched||{},d=e&&e.status?e.status:D.current?D.current:s.initialStatus;g.current=i,_.current=o,V.current=c,D.current=d;var h=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:o,touched:c,status:d,values:i,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&typeof e.submitCount=="number"?e.submitCount:0}})};if(s.onReset){var S=s.onReset(p.values,Se);ie(S)?S.then(h):h()}else h()},[s.initialErrors,s.initialStatus,s.initialTouched,s.onReset]);l.useEffect(function(){I.current===!0&&!w(g.current,s.initialValues)&&b&&(g.current=s.initialValues,P(),v&&L(g.current))},[b,s.initialValues,P,v,L]),l.useEffect(function(){b&&I.current===!0&&!w(_.current,s.initialErrors)&&(_.current=s.initialErrors||O,E({type:"SET_ERRORS",payload:s.initialErrors||O}))},[b,s.initialErrors]),l.useEffect(function(){b&&I.current===!0&&!w(V.current,s.initialTouched)&&(V.current=s.initialTouched||$,E({type:"SET_TOUCHED",payload:s.initialTouched||$}))},[b,s.initialTouched]),l.useEffect(function(){b&&I.current===!0&&!w(D.current,s.initialStatus)&&(D.current=s.initialStatus,E({type:"SET_STATUS",payload:s.initialStatus}))},[b,s.initialStatus,s.initialTouched]);var se=C(function(e){if(A.current[e]&&F(A.current[e].validate)){var i=R(p.values,e),o=A.current[e].validate(i);return ie(o)?(E({type:"SET_ISVALIDATING",payload:!0}),o.then(function(c){return c}).then(function(c){E({type:"SET_FIELD_ERROR",payload:{field:e,value:c}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:o}}),Promise.resolve(o))}else if(s.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),Q(p.values,e).then(function(c){return c}).then(function(c){E({type:"SET_FIELD_ERROR",payload:{field:e,value:R(c,e)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ce=l.useCallback(function(e,i){var o=i.validate;A.current[e]={validate:o}},[]),Le=l.useCallback(function(e){delete A.current[e]},[]),fe=C(function(e,i){E({type:"SET_TOUCHED",payload:e});var o=i===void 0?a:i;return o?L(p.values):Promise.resolve()}),de=l.useCallback(function(e){E({type:"SET_ERRORS",payload:e})},[]),ve=C(function(e,i){var o=F(e)?e(p.values):e;E({type:"SET_VALUES",payload:o});var c=i===void 0?u:i;return c?L(o):Promise.resolve()}),j=l.useCallback(function(e,i){E({type:"SET_FIELD_ERROR",payload:{field:e,value:i}})},[]),N=C(function(e,i,o){E({type:"SET_FIELD_VALUE",payload:{field:e,value:i}});var c=o===void 0?u:o;return c?L(U(p.values,e,i)):Promise.resolve()}),he=l.useCallback(function(e,i){var o=i,c=e,d;if(!ne(e)){e.persist&&e.persist();var h=e.target?e.target:e.currentTarget,S=h.type,k=h.name,re=h.id,te=h.value,Ne=h.checked,Xe=h.outerHTML,Te=h.options,Be=h.multiple;o=i||k||re,c=/number|range/.test(S)?(d=parseFloat(te),isNaN(d)?"":d):/checkbox/.test(S)?qe(R(p.values,o),Ne,te):Te&&Be?Ye(Te):te}o&&N(o,c)},[N,p.values]),X=C(function(e){if(ne(e))return function(i){return he(i,e)};he(e)}),B=C(function(e,i,o){i===void 0&&(i=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:i}});var c=o===void 0?a:o;return c?L(p.values):Promise.resolve()}),Ee=l.useCallback(function(e,i){e.persist&&e.persist();var o=e.target,c=o.name,d=o.id,h=o.outerHTML,S=i||c||d;B(S,!0)},[B]),Z=C(function(e){if(ne(e))return function(i){return Ee(i,e)};Ee(e)}),pe=l.useCallback(function(e){F(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),me=l.useCallback(function(e){E({type:"SET_STATUS",payload:e})},[]),ye=l.useCallback(function(e){E({type:"SET_ISSUBMITTING",payload:e})},[]),x=C(function(){return E({type:"SUBMIT_ATTEMPT"}),L().then(function(e){var i=e instanceof Error,o=!i&&Object.keys(e).length===0;if(o){var c;try{if(c=Ve(),c===void 0)return}catch(d){throw d}return Promise.resolve(c).then(function(d){return I.current&&E({type:"SUBMIT_SUCCESS"}),d}).catch(function(d){if(I.current)throw E({type:"SUBMIT_FAILURE"}),d})}else if(I.current&&(E({type:"SUBMIT_FAILURE"}),i))throw e})}),_e=C(function(e){e&&e.preventDefault&&F(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&F(e.stopPropagation)&&e.stopPropagation(),x().catch(function(i){console.warn("Warning: An unhandled error was caught from submitForm()",i)})}),Se={resetForm:P,validateForm:L,validateField:se,setErrors:de,setFieldError:j,setFieldTouched:B,setFieldValue:N,setStatus:me,setSubmitting:ye,setTouched:fe,setValues:ve,setFormikState:pe,submitForm:x},Ve=C(function(){return M(p.values,Se)}),Me=C(function(e){e&&e.preventDefault&&F(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&F(e.stopPropagation)&&e.stopPropagation(),P()}),ke=l.useCallback(function(e){return{value:R(p.values,e),error:R(p.errors,e),touched:!!R(p.touched,e),initialValue:R(g.current,e),initialTouched:!!R(V.current,e),initialError:R(_.current,e)}},[p.errors,p.touched,p.values]),De=l.useCallback(function(e){return{setValue:function(o,c){return N(e,o,c)},setTouched:function(o,c){return B(e,o,c)},setError:function(o){return j(e,o)}}},[N,B,j]),Oe=l.useCallback(function(e){var i=Y(e),o=i?e.name:e,c=R(p.values,o),d={name:o,value:c,onChange:X,onBlur:Z};if(i){var h=e.type,S=e.value,k=e.as,re=e.multiple;h==="checkbox"?S===void 0?d.checked=!!c:(d.checked=!!(Array.isArray(c)&&~c.indexOf(S)),d.value=S):h==="radio"?(d.checked=c===S,d.value=S):k==="select"&&re&&(d.value=d.value||[],d.multiple=!0)}return d},[Z,X,p.values]),ee=l.useMemo(function(){return!w(g.current,p.values)},[g.current,p.values]),we=l.useMemo(function(){return typeof y<"u"?ee?p.errors&&Object.keys(p.errors).length===0:y!==!1&&F(y)?y(s):y:p.errors&&Object.keys(p.errors).length===0},[y,ee,p.errors,s]),Ue=m({},p,{initialValues:g.current,initialErrors:_.current,initialTouched:V.current,initialStatus:D.current,handleBlur:Z,handleChange:X,handleReset:Me,handleSubmit:_e,resetForm:P,setErrors:de,setFormikState:pe,setFieldTouched:B,setFieldValue:N,setFieldError:j,setStatus:me,setSubmitting:ye,setTouched:fe,setValues:ve,submitForm:x,validateForm:L,validateField:se,isValid:we,dirty:ee,unregisterField:Le,registerField:Ce,getFieldProps:Oe,getFieldMeta:ke,getFieldHelpers:De,validateOnBlur:a,validateOnChange:u,validateOnMount:v});return Ue}function nr(r){var t=je(r),u=r.component,n=r.children,a=r.render,f=r.innerRef;return l.useImperativeHandle(f,function(){return t}),l.createElement(He,{value:t},u?l.createElement(u,t):a?a(t):n?F(n)?n(t):Ge(n)?null:l.Children.only(n):null)}function Ke(r){var t={};if(r.inner){if(r.inner.length===0)return U(t,r.path,r.message);for(var a=r.inner,u=Array.isArray(a),n=0,a=u?a:a[Symbol.iterator]();;){var f;if(u){if(n>=a.length)break;f=a[n++]}else{if(n=a.next(),n.done)break;f=n.value}var v=f;R(t,v.path)||(t=U(t,v.path,v.message))}}return t}function $e(r,t,u,n){u===void 0&&(u=!1);var a=ue(r);return t[u?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function ue(r){var t=Array.isArray(r)?[]:{};for(var u in r)if(Object.prototype.hasOwnProperty.call(r,u)){var n=String(u);Array.isArray(r[n])===!0?t[n]=r[n].map(function(a){return Array.isArray(a)===!0||ge(a)?ue(a):a!==""?a:void 0}):ge(r[n])?t[n]=ue(r[n]):t[n]=r[n]!==""?r[n]:void 0}return t}function ze(r,t,u){var n=r.slice();return t.forEach(function(f,v){if(typeof n[v]>"u"){var y=u.clone!==!1,T=y&&u.isMergeableObject(f);n[v]=T?ae(Array.isArray(f)?[]:{},f,u):f}else u.isMergeableObject(f)?n[v]=ae(r[v],f,u):r.indexOf(f)===-1&&n.push(f)}),n}function Ye(r){return Array.from(r).filter(function(t){return t.selected}).map(function(t){return t.value})}function qe(r,t,u){if(typeof r=="boolean")return!!t;var n=[],a=!1,f=-1;if(Array.isArray(r))n=r,f=r.indexOf(u),a=f>=0;else if(!u||u=="true"||u=="false")return!!t;return t&&u&&!a?n.concat(u):a?n.slice(0,f).concat(n.slice(f+1)):n}var Je=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?l.useLayoutEffect:l.useEffect;function C(r){var t=l.useRef(r);return Je(function(){t.current=r}),l.useCallback(function(){for(var u=arguments.length,n=new Array(u),a=0;a<u;a++)n[a]=arguments[a];return t.current.apply(void 0,n)},[])}function ir(r){var t=r.validate,u=r.name,n=r.render,a=r.children,f=r.as,v=r.component,y=r.className,T=H(r,["validate","name","render","children","as","component","className"]),b=Re(),M=H(b,["validate","validationSchema"]),G=M.registerField,s=M.unregisterField;l.useEffect(function(){return G(u,{validate:t}),function(){s(u)}},[G,s,u,t]);var g=M.getFieldProps(m({name:u},T)),_=M.getFieldMeta(u),V={field:g,form:M};if(n)return n(m({},V,{meta:_}));if(F(a))return a(m({},V,{meta:_}));if(v){if(typeof v=="string"){var D=T.innerRef,I=H(T,["innerRef"]);return l.createElement(v,m({ref:D},g,I,{className:y}),a)}return l.createElement(v,m({field:g,form:M},T,{className:y}),a)}var A=f||"input";if(typeof A=="string"){var q=T.innerRef,J=H(T,["innerRef"]);return l.createElement(A,m({ref:q},g,J,{className:y}),a)}return l.createElement(A,m({},g,T,{className:y}),a)}var Qe=l.forwardRef(function(r,t){var u=r.action,n=H(r,["action"]),a=u??"#",f=Re(),v=f.handleReset,y=f.handleSubmit;return l.createElement("form",m({onSubmit:y,ref:t,onReset:v,action:a},n))});Qe.displayName="Form";export{nr as F,Qe as a,ir as b};
