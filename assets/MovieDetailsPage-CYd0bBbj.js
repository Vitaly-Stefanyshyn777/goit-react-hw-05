import{R as m,c as N,r as u,a as L,j as a,L as g,b as T,N as D,d as b,O as z}from"./index-DV7uw3pq.js";import{b as P}from"./films-api-DrdRaBIV.js";import{d as S}from"./image-not-found-SSyqKm_O.js";import{f as I}from"./format-BzRktsyD.js";var y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j=m.createContext&&m.createContext(y),k=["attr","size","title"];function E(e,t){if(e==null)return{};var i=A(e,t),s,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function A(e,t){if(e==null)return{};var i={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;i[s]=e[s]}return i}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},f.apply(this,arguments)}function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,s)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?x(Object(i),!0).forEach(function(s){F(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))})}return e}function F(e,t,i){return t=C(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function C(e){var t=G(e,"string");return typeof t=="symbol"?t:t+""}function G(e,t){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var s=i.call(e,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O(e){return e&&e.map((t,i)=>m.createElement(t.tag,d({key:i},t.attr),O(t.child)))}function M(e){return t=>m.createElement(R,f({attr:d({},e.attr)},t),O(e.child))}function R(e){var t=i=>{var{attr:s,size:r,title:o}=e,p=E(e,k),v=r||i.size||"1em",l;return i.className&&(l=i.className),e.className&&(l=(l?l+" ":"")+e.className),m.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,p,{className:l,style:d(d({color:e.color||i.color},i.style),e.style),height:v,width:v,xmlns:"http://www.w3.org/2000/svg"}),o&&m.createElement("title",null,o),e.children)};return j!==void 0?m.createElement(j.Consumer,null,i=>t(i)):t(y)}function U(e){return M({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.78 19.03a.75.75 0 0 1-1.06 0l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L5.81 11.5h14.44a.75.75 0 0 1 0 1.5H5.81l4.97 4.97a.75.75 0 0 1 0 1.06Z"},child:[]}]})(e)}const B="_movieDetails_1c1z1_1",W="_movieDetailsThumb_1c1z1_6",H="_btnLink_1c1z1_13",K="_movieDetailsSection_1c1z1_39",Z="_movieDetailsImg_1c1z1_43",$="_movieDetailsTitle_1c1z1_47",q="_movieDetailsTagline_1c1z1_54",J="_movieDetailsText_1c1z1_61",Q="_movieDetailsScore_1c1z1_68",V="_spanAccent_1c1z1_74",X="_iconSpilled_1c1z1_78",Y="_iconUpright_1c1z1_88",ee="_movieDetailsTitleFilm_1c1z1_98",te="_movieDetailsGenresList_1c1z1_105",ie="_moreInfo_1c1z1_111",se="_moreInfoLinkActive_1c1z1_121",ae="_forLaptop_1c1z1_149",n={movieDetails:B,movieDetailsThumb:W,btnLink:H,movieDetailsSection:K,movieDetailsImg:Z,movieDetailsTitle:$,movieDetailsTagline:q,movieDetailsText:J,movieDetailsScore:Q,spanAccent:V,iconSpilled:X,iconUpright:Y,movieDetailsTitleFilm:ee,movieDetailsGenresList:te,moreInfo:ie,moreInfoLinkActive:se,forLaptop:ae},ce=()=>{var h;const{id:e}=N(),[t,i]=u.useState(null),[s,r]=u.useState(!1),o=L(),p=((h=o.state)==null?void 0:h.from)??"/";if(u.useEffect(()=>{(async()=>{r(!0);try{const _=await P(e);i(_)}catch(_){console.error(_)}finally{r(!1)}})()},[e]),s)return a.jsx(g,{});if(!t)return null;const v=I(new Date(t.release_date),"MMMM dd yyyy"),l=t.vote_average?(t.vote_average*10).toFixed(0):null,w=t.poster_path?`https://image.tmdb.org/t/p/w500/${t.poster_path}`:S;return a.jsxs("section",{className:n.movieDetails,children:[a.jsx(T,{to:p,children:a.jsxs("button",{className:n.btnLink,children:[a.jsx(U,{size:"20"})," Back"]})}),a.jsxs("div",{className:n.movieDetailsSection,children:[a.jsxs("div",{className:n.movieDetailsThumb,children:[a.jsx("img",{className:n.movieDetailsImg,src:w,alt:t.original_title,width:"350",height:"500"}),a.jsxs("div",{children:[a.jsx("h2",{className:n.movieDetailsTitle,children:t.original_title}),a.jsx("p",{className:n.movieDetailsTagline,children:t.tagline}),a.jsxs("p",{className:n.movieDetailsText,children:[a.jsx("span",{className:n.spanAccent,children:"Release date:"})," ",v]}),l&&a.jsxs("p",{className:n.movieDetailsText,children:[a.jsx("span",{className:n.spanAccent,children:"User Score:"})," ",l,"%"]}),a.jsx("h3",{className:n.movieDetailsTitleFilm,children:"Overview"}),a.jsx("p",{className:n.movieDetailsText,children:t.overview}),a.jsx("h3",{className:n.movieDetailsTitleFilm,children:"Genres"}),a.jsx("ul",{className:n.movieDetailsGenresList,children:t.genres.map(c=>a.jsx("li",{className:n.movieDetailsText,children:c.name},c.id))})]})]}),a.jsxs("nav",{className:n.moreInfo,children:[a.jsx(D,{className:({isActive:c})=>b(n.btnLink,c&&n.moreInfoLinkActive),to:"cast",state:o.state,children:"Cast"}),a.jsx(D,{className:({isActive:c})=>b(n.btnLink,c&&n.moreInfoLinkActive),to:"reviews",state:o.state,children:"Reviews"})]}),a.jsx(u.Suspense,{fallback:a.jsx(g,{}),children:a.jsx(z,{})})]})]})};export{ce as default};
