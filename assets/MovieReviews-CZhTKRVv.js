import{j as e,c as l,r as v,L as w}from"./index-DV7uw3pq.js";import{b as d}from"./films-api-DrdRaBIV.js";import{f as _}from"./format-BzRktsyD.js";const x="_reviewItemTitle_2y5xe_1",I="_reviewItemUserName_2y5xe_10",h="_reviewItemSpan_2y5xe_17",u="_reviewItemDate_2y5xe_21",N="_reviewItemContent_2y5xe_28",t={reviewItemTitle:x,reviewItemUserName:I,reviewItemSpan:h,reviewItemDate:u,reviewItemContent:N},f=({dataReviews:r})=>{const{author:a,author_details:m,content:i,created_at:n}=r,s=_(new Date(n),"MMMM dd yyyy HH:mm:ss");return e.jsxs("div",{className:t.reviewItem,children:[e.jsx("h2",{className:t.reviewAuthor,children:a}),e.jsxs("p",{className:t.reviewUsername,children:[e.jsx("span",{className:t.label,children:"Username:"})," ",m.username]}),e.jsx("p",{className:t.reviewDate,children:s}),e.jsx("p",{className:t.reviewContent,children:i})]})},p="_reviewNotFound_7vm7o_1",y="_reviewItem_7vm7o_9",o={reviewNotFound:p,reviewItem:y},M=()=>{const{id:r}=l(),[a,m]=v.useState([]),[i,n]=v.useState(!1);return v.useEffect(()=>{(async()=>{n(!0);try{const c=await d(r,"/reviews");m(c.results)}catch(c){console.error(c)}finally{n(!1)}})()},[r]),e.jsxs("section",{className:o.reviewsSection,children:[i&&e.jsx(w,{}),!i&&a.length===0&&e.jsx("p",{className:o.noReviews,children:"We don't have any reviews for this movie."}),e.jsx("ul",{className:o.reviewList,children:a.map(s=>e.jsx("li",{className:o.reviewItem,children:e.jsx(f,{dataReviews:s})},s.id))})]})};export{M as default};
